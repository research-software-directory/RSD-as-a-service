// SPDX-FileCopyrightText: 2022 Dusan Mijatovic (dv4all)
// SPDX-FileCopyrightText: 2022 dv4all
//
// SPDX-License-Identifier: Apache-2.0

import {prepareDataForSoftwarePage} from './formatData';

// dummy data
const commit_history = {
	'1625356800': 1,
	'1625961600': 4,
	'1626566400': 1,
	'1627171200': 0,
	'1627776000': 0,
	'1628380800': 0,
	'1628985600': 7,
	'1629590400': 5,
	'1630195200': 9,
	'1630800000': 0,
	'1631404800': 5,
	'1632009600': 15,
	'1632614400': 3,
	'1633219200': 25,
	'1633824000': 10,
	'1634428800': 20,
	'1635033600': 1,
	'1635638400': 0,
	'1636243200': 0,
	'1636848000': 6,
	'1637452800': 1,
	'1638057600': 0,
	'1638662400': 2,
	'1639267200': 16,
	'1639872000': 21,
	'1640476800': 0,
	'1641081600': 13,
	'1641686400': 37,
	'1642291200': 51,
	'1642896000': 64,
	'1643500800': 53,
	'1644105600': 45,
	'1644710400': 10,
	'1645315200': 7,
	'1645920000': 7,
	'1646524800': 7,
	'1647129600': 22,
	'1647734400': 17,
	'1648339200': 3,
	'1648944000': 7,
	'1649548800': 3,
	'1650153600': 2,
	'1650758400': 0,
	'1651363200': 1,
	'1651968000': 0,
};
export const preparedCommitHistory = {
	lineData: [
		{x: 1625356800000, y: 1},
		{x: 1625961600000, y: 4},
		{x: 1626566400000, y: 1},
		{x: 1627171200000, y: 0},
		{x: 1627776000000, y: 0},
		{x: 1628380800000, y: 0},
		{x: 1628985600000, y: 7},
		{x: 1629590400000, y: 5},
		{x: 1630195200000, y: 9},
		{x: 1630800000000, y: 0},
		{x: 1631404800000, y: 5},
		{x: 1632009600000, y: 15},
		{x: 1632614400000, y: 3},
		{x: 1633219200000, y: 25},
		{x: 1633824000000, y: 10},
		{x: 1634428800000, y: 20},
		{x: 1635033600000, y: 1},
		{x: 1635638400000, y: 0},
		{x: 1636243200000, y: 0},
		{x: 1636848000000, y: 6},
		{x: 1637452800000, y: 1},
		{x: 1638057600000, y: 0},
		{x: 1638662400000, y: 2},
		{x: 1639267200000, y: 16},
		{x: 1639872000000, y: 21},
		{x: 1640476800000, y: 0},
		{x: 1641081600000, y: 13},
		{x: 1641686400000, y: 37},
		{x: 1642291200000, y: 51},
		{x: 1642896000000, y: 64},
		{x: 1643500800000, y: 53},
		{x: 1644105600000, y: 45},
		{x: 1644710400000, y: 10},
		{x: 1645315200000, y: 7},
		{x: 1645920000000, y: 7},
		{x: 1646524800000, y: 7},
		{x: 1647129600000, y: 22},
		{x: 1647734400000, y: 17},
		{x: 1648339200000, y: 3},
		{x: 1648944000000, y: 7},
		{x: 1649548800000, y: 3},
		{x: 1650153600000, y: 2},
		{x: 1650758400000, y: 0},
		{x: 1651363200000, y: 1},
		{x: 1651968000000, y: 0},
	],
	totalCountY: 501,
	lastCommitDate: new Date('2022-05-01T00:00:00.000Z'),
};

it('prepares commit history for software page', () => {
	const prepared = prepareDataForSoftwarePage(commit_history);
	// console.log(prepared)
	// const {lineData, lastCommitDate, totalCountY} = prepared
	expect(prepared).toEqual(preparedCommitHistory);
});
